## Webアプリ設計メモ

画面は以下の領域からなります
- 計算結果
  - 26変数の式に、ユーザーが指定したパラメータを代入した結果が表示されます。
  - 結果の正負に応じてステータスメッセージが変わります
- 部分計算結果
  - 結果が正であるためには0であることが必要な部分式について、その結果を表示します。
  - 計算結果と同様に、0であるか否かに応じてステータスメッセージが変わります
- パラメータ指定部分
  - ユーザーが26個のパラメータを指定できるようになっています。
  - 各パラメータに対して、そのパラメータが現れる部分計算結果の条件がいくつ達成されているかがステータスメッセージとして表示されます。
- ランダムボタン
  - すべてのパラメータをランダムに再設定します

  スマホからでも操作しやすいように、レスポンシブ対応されている必要があります。
  
### アーキテクチャ
- Next.js 14 App Router + TypeScript + React でSPA構成とし、静的エクスポートも可能な形にする。
- UIライブラリはChakra UIを採用し、グリッド・フォーム・バッジなどの既製コンポーネントで実装コストを削減する。
- 数値計算はクライアントサイドで完結させ、オーバーフロー防止のため `BigInt` ベースで実装する。

### 計算ロジック
- 多項式と部分式はアドホックに関数へ書き下ろし、依存するサブ式を順番に評価していく。
- 評価結果は各部分式名をキーにしたオブジェクトで管理し、`value` と `status`（正・ゼロ・負）を格納する。
- 各パラメータが出現する部分式の定義を手動でリスト化し、ゼロ判定の集計で条件達成数を算出する。
- ランダム値は暫定で整数範囲（例：-10〜10）を想定し、必要に応じて設定で調整できるようにする。

### UI/UX
- PCでは結果・部分結果・パラメータ入力をChakraの`Grid`で3カラムに配置、モバイルでは`Stack`で縦並びに切り替える。
- 部分結果は`Accordion`で折りたたみ表示し、ゼロ判定を強調するバッジを表示。
- パラメータ入力は`SimpleGrid`でグルーピングし、各入力の隣に条件達成数を`Tag`で表示する。
- ランダムボタンはフォーム下部に配置し、`reset()`で一括更新する。

### 開発フロー・品質
- フォーム管理はReact Hook Form + Zodでバリデーションを実装する。
- 計算モジュールの単体テストをVitestで用意し、既知のパラメータセットと期待結果をフィクスチャ化する。
- プロジェクトにはESLint（TypeScript向け設定）とPrettierを導入してコード品質を維持する。
- GitHub Actionsでlint/testを自動化する。Storybookは時間に余裕がある場合に主要コンポーネント確認用として追加を検討する。
